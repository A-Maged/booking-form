{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/tiny-date-picker/dist/date-range-picker.js","webpack:///./src/Modal.js","webpack:///./src/domManager.js","webpack:///./src/index.js","webpack:///./src/sass/_base.sass","webpack:///./src/stateManager/actions.js","webpack:///./src/stateManager/rootReducer.js","webpack:///./src/stateManager/stateEvents.js","webpack:///./src/stateManager/store.js"],"names":["Modal","self","closeModalBtn","document","querySelector","openModalBtn","modal","getElementsByClassName","close","bind","open","addEventListener","window","e","target","style","display","datePicker","reservationForm","searchField","occupancyField","occupancyDropDown","destinitionList","updateDestinationDOM","value","store","getState","form","destinition","showDestinationListDOM","ui","visibleDropdown","classList","add","hideDestinationListDOM","remove","showDatePickerDOM","DateRangePicker","updateOccopancyDOM","state","occupancy","innerHTML","forEach","room","idx","adults","showOccupancyDropDownDOM","hideOccupancyDropDownDOM","subscribe","actionTypes","UPDATE_DESTINATION","UPDATE_CHECK_IN_OUT","UPDATE_OCCUPANCY","UPDATE_VISIBLE_DROPDOWN","updateDestination","type","updateCheckInOut","updateOccopancy","showDestinitionList","hideDropDown","showDatePickerModal","showOccupancyDropDown","formInitialState","checkInOut","start","end","children","formReducer","action","uiInitialState","uiReducer","rootReducer","checkInOutField","dispatch","actions","stopPropagation","currentTarget","creatStore","reducer","listeners","undefined","listener","push","filter","currentListener","console","log","map","cb"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA,EAAE,KAA4D;AAC9D,EAAE,SACwC;AAC1C,CAAC,4BAA4B;;AAE7B;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,KAAK;AAClB,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,OAAO;AACpB,aAAa,QAAQ;AACrB;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,SAAS;AACtB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,KAAK;AAClB,aAAa,KAAK;AAClB,aAAa,KAAK;AAClB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,SAAS;AACtB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP,8BAA8B,EAAE;;AAEhC;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B;;AAE/B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB,aAAa,YAAY;AACzB,aAAa,SAAS;AACtB,eAAe,SAAS;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB,aAAa,kBAAkB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB,YAAY,kBAAkB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,gCAAgC;AACrD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B,wBAAwB;AACxB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA,2CAA2C,cAAc;AACzD;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,OAAO;;AAEP;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,cAAc,OAAO;AACrB,eAAe,eAAe;AAC9B,eAAe,eAAe;AAC9B,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,eAAe,YAAY;AAC3B,eAAe,uCAAuC;AACtD,eAAe,cAAc;AAC7B,eAAe,2BAA2B;AAC1C,eAAe,sBAAsB;AACrC,eAAe,sBAAsB;AACrC,eAAe,uBAAuB;AACtC,eAAe,cAAc;AAC7B,eAAe,cAAc;AAC7B;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,eAAe,OAAO;AACtB,eAAe,KAAK;AACpB,eAAe,KAAK;AACpB;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,eAAe,gBAAgB;AAC/B,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB;;AAEA;AACA;AACA;AACA,aAAa,qBAAqB;AAClC,aAAa,kBAAkB;AAC/B,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,eAAe,KAAK;AACpB,eAAe,KAAK;AACpB;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,eAAe,eAAe;AAC9B,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB;;AAEA;AACA;AACA;AACA,aAAa,YAAY;AACzB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE;AACzE;AACA;AACA,KAAK;AACL,qEAAqE;AACrE;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uBAAuB;AACvB,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,gDAAgD,cAAc;;AAE9D,CAAC;;;;;;;;;;;;;;;;;;;;;ICr1CoBA,K;;;AACpB,mBAAc;AAAA;;AACb,QAAIC,IAAI,GAAG,IAAX;AAEA,SAAKC,aAAL,GAAqBC,QAAQ,CAACC,aAAT,CAAuB,yBAAvB,CAArB;AACA,SAAKC,YAAL,GAAoBF,QAAQ,CAACC,aAAT,CACnB,qCADmB,CAApB;AAGA,SAAKE,KAAL,GAAaH,QAAQ,CAACI,sBAAT,CAAgC,eAAhC,EAAiD,CAAjD,CAAb;AAEA,SAAKC,KAAL,GAAa,KAAKA,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAb;AACA,SAAKC,IAAL,GAAY,KAAKA,IAAL,CAAUD,IAAV,CAAe,IAAf,CAAZ;AAEA,SAAKP,aAAL,GACG,KAAKA,aAAL,CAAmBS,gBAAnB,CAAoC,OAApC,EAA6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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.DateRangePicker = {})));\n}(this, (function (exports) { 'use strict';\n\n  /**\n   * @file A generic set of mutation-free date functions.\n   */\n\n  /**\n   * now returns the current date without any time values\n   *\n   * @returns {Date}\n   */\n  function now() {\n    var dt = new Date();\n    dt.setHours(0, 0, 0, 0);\n    return dt;\n  }\n\n  /**\n   * dateEq compares two dates\n   *\n   * @param {Date} date1 the first date\n   * @param {Date} date2 the second date\n   * @returns {boolean}\n   */\n  function datesEq(date1, date2) {\n    return (date1 && date1.toDateString()) === (date2 && date2.toDateString());\n  }\n\n  /**\n   * shiftDay shifts the specified date by n days\n   *\n   * @param {Date} dt\n   * @param {number} n\n   * @returns {Date}\n   */\n  function shiftDay(dt, n) {\n    dt = new Date(dt);\n    dt.setDate(dt.getDate() + n);\n    return dt;\n  }\n\n  /**\n   * shiftMonth shifts the specified date by a specified number of months\n   *\n   * @param {Date} dt\n   * @param {number} n\n   * @param {boolean} wrap optional, if true, does not change year\n   *                       value, defaults to false\n   * @returns {Date}\n   */\n  function shiftMonth(dt, n, wrap) {\n    dt = new Date(dt);\n\n    var dayOfMonth = dt.getDate();\n    var month = dt.getMonth() + n;\n\n    dt.setDate(1);\n    dt.setMonth(wrap ? (12 + month) % 12 : month);\n    dt.setDate(dayOfMonth);\n\n    // If dayOfMonth = 31, but the target month only has 30 or 29 or whatever...\n    // head back to the max of the target month\n    if (dt.getDate() < dayOfMonth) {\n      dt.setDate(0);\n    }\n\n    return dt;\n  }\n\n  /**\n   * shiftYear shifts the specified date by n years\n   *\n   * @param {Date} dt\n   * @param {number} n\n   * @returns {Date}\n   */\n  function shiftYear(dt, n) {\n    dt = new Date(dt);\n    dt.setFullYear(dt.getFullYear() + n);\n    return dt;\n  }\n\n  /**\n   * setYear changes the specified date to the specified year\n   *\n   * @param {Date} dt\n   * @param {number} year\n   */\n  function setYear(dt, year) {\n    dt = new Date(dt);\n    dt.setFullYear(year);\n    return dt;\n  }\n\n  /**\n   * setMonth changes the specified date to the specified month\n   *\n   * @param {Date} dt\n   * @param {number} month\n   */\n  function setMonth(dt, month) {\n    return shiftMonth(dt, month - dt.getMonth());\n  }\n\n  /**\n   * dateOrParse creates a function which, given a date or string, returns a date\n   *\n   * @param {function} parse the function used to parse strings\n   * @returns {function}\n   */\n  function dateOrParse(parse) {\n    return function (dt) {\n      return dropTime(typeof dt === 'string' ? parse(dt) : dt);\n    };\n  }\n\n  /**\n   * constrainDate returns dt or min/max depending on whether dt is out of bounds (inclusive)\n   *\n   * @export\n   * @param {Date} dt\n   * @param {Date} min\n   * @param {Date} max\n   * @returns {Date}\n   */\n  function constrainDate(dt, min, max) {\n    return (dt < min) ? min :\n           (dt > max) ? max :\n           dt;\n  }\n\n  function dropTime(dt) {\n    dt = new Date(dt);\n    dt.setHours(0, 0, 0, 0);\n    return dt;\n  }\n\n  /**\n   * @file Utility functions for function manipulation.\n   */\n\n  /**\n   * bufferFn buffers calls to fn so they only happen every ms milliseconds\n   *\n   * @param {number} ms number of milliseconds\n   * @param {function} fn the function to be buffered\n   * @returns {function}\n   */\n  function bufferFn(ms, fn) {\n    var timeout = undefined;\n    return function () {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, ms);\n    };\n  }\n\n  /**\n   * noop is a function which does nothing at all.\n   */\n  function noop() { }\n\n  /**\n   * copy properties from object o2 to object o1.\n   *\n   * @params {Object} o1\n   * @params {Object} o2\n   * @returns {Object}\n   */\n  function cp() {\n    var args = arguments;\n    var o1 = args[0];\n    for (var i = 1; i < args.length; ++i) {\n      var o2 = args[i] || {};\n      for (var key in o2) {\n        o1[key] = o2[key];\n      }\n    }\n    return o1;\n  }\n\n  /**\n   * @file Responsible for sanitizing and creating date picker options.\n   */\n\n  var english = {\n    days: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: [\n      'January',\n      'February',\n      'March',\n      'April',\n      'May',\n      'June',\n      'July',\n      'August',\n      'September',\n      'October',\n      'November',\n      'December',\n    ],\n    today: 'Today',\n    clear: 'Clear',\n    close: 'Close',\n  };\n\n  /**\n   * DatePickerOptions constructs a new date picker options object, overriding\n   * default values with any values specified in opts.\n   *\n   * @param {DatePickerOptions} opts\n   * @returns {DatePickerOptions}\n   */\n  function DatePickerOptions(opts) {\n    opts = opts || {};\n    opts = cp(defaults(), opts);\n    var parse = dateOrParse(opts.parse);\n    opts.lang = cp(english, opts.lang);\n    opts.parse = parse;\n    opts.inRange = makeInRangeFn(opts);\n    opts.min = parse(opts.min || shiftYear(now(), -100));\n    opts.max = parse(opts.max || shiftYear(now(), 100));\n    opts.hilightedDate = opts.parse(opts.hilightedDate);\n\n    return opts;\n  }\n\n  function defaults() {\n    return {\n      lang: english,\n\n      // Possible values: dp-modal, dp-below, dp-permanent\n      mode: 'dp-modal',\n\n      // The date to hilight initially if the date picker has no\n      // initial value.\n      hilightedDate: now(),\n\n      format: function (dt) {\n        return (dt.getMonth() + 1) + '/' + dt.getDate() + '/' + dt.getFullYear();\n      },\n\n      parse: function (str) {\n        var date = new Date(str);\n        return isNaN(date) ? now() : date;\n      },\n\n      dateClass: function () { },\n\n      inRange: function () {\n        return true;\n      }\n    };\n  }\n\n  function makeInRangeFn(opts) {\n    var inRange = opts.inRange; // Cache this version, and return a variant\n\n    return function (dt, dp) {\n      return inRange(dt, dp) && opts.min <= dt && opts.max >= dt;\n    };\n  }\n\n  /**\n   * @file Helper functions for dealing with dom elements.\n   */\n\n  var Key = {\n    left: 37,\n    up: 38,\n    right: 39,\n    down: 40,\n    enter: 13,\n    esc: 27,\n  };\n\n  /**\n   * on attaches an event handler to the specified element, and returns an\n   * off function which can be used to remove the handler.\n   *\n   * @param {string} evt the name of the event to handle\n   * @param {HTMLElement} el the element to attach to\n   * @param {function} handler the event handler\n   * @returns {function} the off function\n   */\n  function on(evt, el, handler) {\n    el.addEventListener(evt, handler, true);\n\n    return function () {\n      el.removeEventListener(evt, handler, true);\n    };\n  }\n\n  var CustomEvent = shimCustomEvent();\n\n  function shimCustomEvent() {\n    var CustomEvent = window.CustomEvent;\n\n    if (typeof CustomEvent !== 'function') {\n      CustomEvent = function (event, params) {\n        params = params || {bubbles: false, cancelable: false, detail: undefined};\n        var evt = document.createEvent('CustomEvent');\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n        return evt;\n      };\n\n      CustomEvent.prototype = window.Event.prototype;\n    }\n\n    return CustomEvent;\n  }\n\n  /**\n   * @file Manages the calendar / day-picker view.\n   */\n\n  var dayPicker = {\n    onKeyDown: keyDown,\n    onClick: {\n      'dp-day': selectDay,\n      'dp-next': gotoNextMonth,\n      'dp-prev': gotoPrevMonth,\n      'dp-today': selectToday,\n      'dp-clear': clear,\n      'dp-close': close,\n      'dp-cal-month': showMonthPicker,\n      'dp-cal-year': showYearPicker,\n    },\n    render: render\n  };\n\n  /**\n   * view renders the calendar (day picker) as an HTML string.\n   *\n   * @param {DatePickerContext} context the date picker being rendered\n   * @returns {string}\n   */\n  function render(dp) {\n    var opts = dp.opts;\n    var lang = opts.lang;\n    var state = dp.state;\n    var dayNames = lang.days;\n    var dayOffset = opts.dayOffset || 0;\n    var selectedDate = state.selectedDate;\n    var hilightedDate = state.hilightedDate;\n    var hilightedMonth = hilightedDate.getMonth();\n    var today = now().getTime();\n\n    return (\n      '<div class=\"dp-cal\">' +\n        '<header class=\"dp-cal-header\">' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-prev\">Prev</button>' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-cal-month\">' +\n            lang.months[hilightedMonth] +\n          '</button>' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-cal-year\">' +\n            hilightedDate.getFullYear() +\n          '</button>' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-next\">Next</button>' +\n        '</header>' +\n        '<div class=\"dp-days\">' +\n          dayNames.map(function (name, i) {\n            return (\n              '<span class=\"dp-col-header\">' + dayNames[(i + dayOffset) % dayNames.length] + '</span>'\n            );\n          }).join('') +\n          mapDays(hilightedDate, dayOffset, function (date) {\n            var isNotInMonth = date.getMonth() !== hilightedMonth;\n            var isDisabled = !opts.inRange(date);\n            var isToday = date.getTime() === today;\n            var className = 'dp-day';\n            className += (isNotInMonth ? ' dp-edge-day' : '');\n            className += (datesEq(date, hilightedDate) ? ' dp-current' : '');\n            className += (datesEq(date, selectedDate) ? ' dp-selected' : '');\n            className += (isDisabled ? ' dp-day-disabled' : '');\n            className += (isToday ? ' dp-day-today' : '');\n            className += ' ' + opts.dateClass(date, dp);\n\n            return (\n              '<button tabindex=\"-1\" type=\"button\" class=\"' + className + '\" data-date=\"' + date.getTime() + '\">' +\n                date.getDate() +\n              '</button>'\n            );\n          }) +\n        '</div>' +\n        '<footer class=\"dp-cal-footer\">' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-today\">' + lang.today + '</button>' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-clear\">' + lang.clear + '</button>' +\n          '<button tabindex=\"-1\" type=\"button\" class=\"dp-close\">' + lang.close + '</button>' +\n        '</footer>' +\n      '</div>'\n    );\n  }\n\n  /**\n   * keyDown handles the key down event for the day-picker\n   *\n   * @param {Event} e\n   * @param {DatePickerContext} dp\n   */\n  function keyDown(e, dp) {\n    var key = e.keyCode;\n    var shiftBy =\n      (key === Key.left) ? -1 :\n      (key === Key.right) ? 1 :\n      (key === Key.up) ? -7 :\n      (key === Key.down) ? 7 :\n      0;\n\n    if (key === Key.esc) {\n      dp.close();\n    } else if (shiftBy) {\n      e.preventDefault();\n      dp.setState({\n        hilightedDate: shiftDay(dp.state.hilightedDate, shiftBy)\n      });\n    }\n  }\n\n  function selectToday(e, dp) {\n    dp.setState({\n      selectedDate: now(),\n    });\n  }\n\n  function clear(e, dp) {\n    dp.setState({\n      selectedDate: null,\n    });\n  }\n\n  function close(e, dp) {\n    dp.close();\n  }\n\n  function showMonthPicker(e, dp) {\n    dp.setState({\n      view: 'month'\n    });\n  }\n\n  function showYearPicker(e, dp) {\n    dp.setState({\n      view: 'year'\n    });\n  }\n\n  function gotoNextMonth(e, dp) {\n    var hilightedDate = dp.state.hilightedDate;\n    dp.setState({\n      hilightedDate: shiftMonth(hilightedDate, 1)\n    });\n  }\n\n  function gotoPrevMonth(e, dp) {\n    var hilightedDate = dp.state.hilightedDate;\n    dp.setState({\n      hilightedDate: shiftMonth(hilightedDate, -1)\n    });\n  }\n\n  function selectDay(e, dp) {\n    dp.setState({\n      selectedDate: new Date(parseInt(e.target.getAttribute('data-date'))),\n    });\n  }\n\n  function mapDays(currentDate, dayOffset, fn) {\n    var result = '';\n    var iter = new Date(currentDate);\n    iter.setDate(1);\n    iter.setDate(1 - iter.getDay() + dayOffset);\n\n    // If we are showing monday as the 1st of the week,\n    // and the monday is the 2nd of the month, the sunday won't\n    // show, so we need to shift backwards\n    if (dayOffset && iter.getDate() === dayOffset + 1) {\n      iter.setDate(dayOffset - 6);\n    }\n\n    // We are going to have 6 weeks always displayed to keep a consistent\n    // calendar size\n    for (var day = 0; day < (6 * 7); ++day) {\n      result += fn(iter);\n      iter.setDate(iter.getDate() + 1);\n    }\n\n    return result;\n  }\n\n  /**\n   * @file Manages the month-picker view.\n   */\n\n  var monthPicker = {\n    onKeyDown: keyDown$1,\n    onClick: {\n      'dp-month': onChooseMonth\n    },\n    render: render$1\n  };\n\n  function onChooseMonth(e, dp) {\n    dp.setState({\n      hilightedDate: setMonth(dp.state.hilightedDate, parseInt(e.target.getAttribute('data-month'))),\n      view: 'day',\n    });\n  }\n\n  /**\n   * render renders the month picker as an HTML string\n   *\n   * @param {DatePickerContext} dp the date picker context\n   * @returns {string}\n   */\n  function render$1(dp) {\n    var opts = dp.opts;\n    var lang = opts.lang;\n    var months = lang.months;\n    var currentDate = dp.state.hilightedDate;\n    var currentMonth = currentDate.getMonth();\n\n    return (\n      '<div class=\"dp-months\">' +\n        months.map(function (month, i) {\n          var className = 'dp-month';\n          className += (currentMonth === i ? ' dp-current' : '');\n\n          return (\n            '<button tabindex=\"-1\" type=\"button\" class=\"' + className + '\" data-month=\"' + i + '\">' +\n              month +\n            '</button>'\n          );\n        }).join('') +\n      '</div>'\n    );\n  }\n\n  /**\n   * keyDown handles keydown events that occur in the month picker\n   *\n   * @param {Event} e\n  * @param {DatePickerContext} dp\n   */\n  function keyDown$1(e, dp) {\n    var key = e.keyCode;\n    var shiftBy =\n      (key === Key.left) ? -1 :\n      (key === Key.right) ? 1 :\n      (key === Key.up) ? -3 :\n      (key === Key.down) ? 3 :\n      0;\n\n    if (key === Key.esc) {\n      dp.setState({\n        view: 'day',\n      });\n    } else if (shiftBy) {\n      e.preventDefault();\n      dp.setState({\n        hilightedDate: shiftMonth(dp.state.hilightedDate, shiftBy, true)\n      });\n    }\n  }\n\n  /**\n   * @file Manages the year-picker view.\n   */\n\n  var yearPicker = {\n    render: render$2,\n    onKeyDown: keyDown$2,\n    onClick: {\n      'dp-year': onChooseYear\n    },\n  };\n\n  /**\n   * view renders the year picker as an HTML string.\n   *\n   * @param {DatePickerContext} dp the date picker context\n   * @returns {string}\n   */\n  function render$2(dp) {\n    var state = dp.state;\n    var currentYear = state.hilightedDate.getFullYear();\n    var selectedYear = state.selectedDate.getFullYear();\n\n    return (\n      '<div class=\"dp-years\">' +\n        mapYears(dp, function (year) {\n          var className = 'dp-year';\n          className += (year === currentYear ? ' dp-current' : '');\n          className += (year === selectedYear ? ' dp-selected' : '');\n\n          return (\n            '<button tabindex=\"-1\" type=\"button\" class=\"' + className + '\" data-year=\"' + year + '\">' +\n              year +\n            '</button>'\n          );\n        }) +\n      '</div>'\n    );\n  }\n\n  function onChooseYear(e, dp) {\n    dp.setState({\n      hilightedDate: setYear(dp.state.hilightedDate, parseInt(e.target.getAttribute('data-year'))),\n      view: 'day',\n    });\n  }\n\n  function keyDown$2(e, dp) {\n    var key = e.keyCode;\n    var opts = dp.opts;\n    var shiftBy =\n      (key === Key.left || key === Key.up) ? 1 :\n      (key === Key.right || key === Key.down) ? -1 :\n      0;\n\n    if (key === Key.esc) {\n      dp.setState({\n        view: 'day',\n      });\n    } else if (shiftBy) {\n      e.preventDefault();\n      var shiftedYear = shiftYear(dp.state.hilightedDate, shiftBy);\n\n      dp.setState({\n        hilightedDate: constrainDate(shiftedYear, opts.min, opts.max),\n      });\n    }\n  }\n\n  function mapYears(dp, fn) {\n    var result = '';\n    var max = dp.opts.max.getFullYear();\n\n    for (var i = max; i >= dp.opts.min.getFullYear(); --i) {\n      result += fn(i);\n    }\n\n    return result;\n  }\n\n  /**\n   * @file Defines the base date picker behavior, overridden by various modes.\n   */\n\n  var views = {\n    day: dayPicker,\n    year: yearPicker,\n    month: monthPicker\n  };\n\n  function BaseMode(input, emit, opts) {\n    var detatchInputEvents; // A function that detaches all events from the input\n    var closing = false; // A hack to prevent calendar from re-opening when closing.\n    var selectedDate; // The currently selected date\n    var dp = {\n      // The root DOM element for the date picker, initialized on first open.\n      el: undefined,\n      opts: opts,\n      shouldFocusOnBlur: true,\n      shouldFocusOnRender: true,\n      state: initialState(),\n      adjustPosition: noop,\n      containerHTML: '<div class=\"dp\"></div>',\n\n      attachToDom: function () {\n        document.body.appendChild(dp.el);\n      },\n\n      updateInput: function (selectedDate) {\n        var e = new CustomEvent('change', {bubbles: true});\n        e.simulated = true;\n        input.value = selectedDate ? opts.format(selectedDate) : '';\n        input.dispatchEvent(e);\n      },\n\n      computeSelectedDate: function () {\n        return opts.parse(input.value);\n      },\n\n      currentView: function() {\n        return views[dp.state.view];\n      },\n\n      open: function () {\n        if (closing) {\n          return;\n        }\n\n        if (!dp.el) {\n          dp.el = createContainerElement(opts, dp.containerHTML);\n          attachContainerEvents(dp);\n        }\n\n        selectedDate = constrainDate(dp.computeSelectedDate(), opts.min, opts.max);\n        dp.state.hilightedDate = selectedDate || opts.hilightedDate;\n        dp.state.view = 'day';\n\n        dp.attachToDom();\n        dp.render();\n\n        emit('open');\n      },\n\n      isVisible: function () {\n        return !!dp.el && !!dp.el.parentNode;\n      },\n\n      hasFocus: function () {\n        var focused = document.activeElement;\n        return dp.el &&\n          dp.el.contains(focused) &&\n          focused.className.indexOf('dp-focuser') < 0;\n      },\n\n      shouldHide: function () {\n        return dp.isVisible();\n      },\n\n      close: function (becauseOfBlur) {\n        var el = dp.el;\n\n        if (!dp.isVisible()) {\n          return;\n        }\n\n        if (el) {\n          var parent = el.parentNode;\n          parent && parent.removeChild(el);\n        }\n\n        closing = true;\n\n        if (becauseOfBlur && dp.shouldFocusOnBlur) {\n          focusInput(input);\n        }\n\n        // When we close, the input often gains refocus, which\n        // can then launch the date picker again, so we buffer\n        // a bit and don't show the date picker within N ms of closing\n        setTimeout(function() {\n          closing = false;\n        }, 100);\n\n        emit('close');\n      },\n\n      destroy: function () {\n        dp.close();\n        detatchInputEvents();\n      },\n\n      render: function () {\n        if (!dp.el) {\n          return;\n        }\n\n        var hadFocus = dp.hasFocus();\n        var html = dp.currentView().render(dp);\n        html && (dp.el.firstChild.innerHTML = html);\n\n        dp.adjustPosition();\n\n        if (hadFocus || dp.shouldFocusOnRender) {\n          focusCurrent(dp);\n        }\n      },\n\n      // Conceptually similar to setState in React, updates\n      // the view state and re-renders.\n      setState: function (state) {\n        for (var key in state) {\n          dp.state[key] = state[key];\n        }\n\n        emit('statechange');\n        dp.render();\n      },\n    };\n\n    detatchInputEvents = attachInputEvents(input, dp);\n\n    // Builds the initial view state\n    // selectedDate is a special case and causes changes to hilightedDate\n    // hilightedDate is set on open, so remains undefined initially\n    // view is the current view (day, month, year)\n    function initialState() {\n      return {\n        get selectedDate() {\n          return selectedDate;\n        },\n        set selectedDate(dt) {\n          if (dt && !opts.inRange(dt)) {\n            return;\n          }\n\n          if (dt) {\n            selectedDate = new Date(dt);\n            dp.state.hilightedDate = selectedDate;\n          } else {\n            selectedDate = dt;\n          }\n\n          dp.updateInput(selectedDate);\n          emit('select');\n          dp.close();\n        },\n        view: 'day',\n      };\n    }\n\n    return dp;\n  }\n\n  function createContainerElement(opts, containerHTML) {\n    var el = document.createElement('div');\n\n    el.className = opts.mode;\n    el.innerHTML = containerHTML;\n\n    return el;\n  }\n\n  function attachInputEvents(input, dp) {\n    var bufferShow = bufferFn(5, function () {\n      if (dp.shouldHide()) {\n        dp.close();\n      } else {\n        dp.open();\n      }\n    });\n\n    var off = [\n      on('blur', input, bufferFn(150, function () {\n        if (!dp.hasFocus()) {\n          dp.close(true);\n        }\n      })),\n\n      on('mousedown', input, function () {\n        if (input === document.activeElement) {\n          bufferShow();\n        }\n      }),\n\n      on('focus', input, bufferShow),\n\n      on('input', input, function (e) {\n        var date = dp.opts.parse(e.target.value);\n        isNaN(date) || dp.setState({\n          hilightedDate: date\n        });\n      }),\n    ];\n\n    // Unregister all events that were registered above.\n    return function() {\n      off.forEach(function (f) {\n        f();\n      });\n    };\n  }\n\n  function focusCurrent(dp) {\n    var current = dp.el.querySelector('.dp-current');\n    return current && current.focus();\n  }\n\n  function attachContainerEvents(dp) {\n    var el = dp.el;\n    var calEl = el.querySelector('.dp');\n\n    // Hack to get iOS to show active CSS states\n    el.ontouchstart = noop;\n\n    function onClick(e) {\n      e.target.className.split(' ').forEach(function(evt) {\n        var handler = dp.currentView().onClick[evt];\n        handler && handler(e, dp);\n      });\n    }\n\n    // The calender fires a blur event *every* time we redraw\n    // this means we need to buffer the blur event to see if\n    // it still has no focus after redrawing, and only then\n    // do we return focus to the input. A possible other approach\n    // would be to set context.redrawing = true on redraw and\n    // set it to false in the blur event.\n    on('blur', calEl, bufferFn(150, function () {\n      if (!dp.hasFocus()) {\n        dp.close(true);\n      }\n    }));\n\n    on('keydown', el, function (e) {\n      if (e.keyCode === Key.enter) {\n        onClick(e);\n      } else {\n        dp.currentView().onKeyDown(e, dp);\n      }\n    });\n\n    // If the user clicks in non-focusable space, but\n    // still within the date picker, we don't want to\n    // hide, so we need to hack some things...\n    on('mousedown', calEl, function (e) {\n      e.target.focus && e.target.focus(); // IE hack\n      if (document.activeElement !== e.target) {\n        e.preventDefault();\n        focusCurrent(dp);\n      }\n    });\n\n    on('click', el, onClick);\n  }\n\n  function focusInput(input) {\n    // When the modal closes, we need to focus the original input so the\n    // user can continue tabbing from where they left off.\n    input.focus();\n\n    // iOS zonks out if we don't blur the input, so...\n    if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) {\n      input.blur();\n    }\n  }\n\n  /**\n   * @file Defines the modal date picker behavior.\n   */\n\n  function ModalMode(input, emit, opts) {\n    var dp = BaseMode(input, emit, opts);\n\n    // In modal mode, users really shouldn't be able to type in\n    // the input, as all input is done via the calendar.\n    input.readonly = true;\n\n    // In modal mode, we need to know when the user has tabbed\n    // off the end of the calendar, and set focus to the original\n    // input. To do this, we add a special element to the DOM.\n    // When the user tabs off the bottom of the calendar, they\n    // will tab onto this element.\n    dp.containerHTML += '<a href=\"#\" class=\"dp-focuser\">.</a>';\n\n    return dp;\n  }\n\n  /**\n   * @file Defines the dropdown date picker behavior.\n   */\n\n  function DropdownMode(input, emit, opts) {\n    var dp = BaseMode(input, emit, opts);\n\n    dp.shouldFocusOnBlur = false;\n\n    Object.defineProperty(dp, 'shouldFocusOnRender', {\n      get: function() {\n        return input !== document.activeElement;\n      }\n    });\n\n    dp.adjustPosition = function () {\n      autoPosition(input, dp);\n    };\n\n    return dp;\n  }\n\n  function autoPosition(input, dp) {\n    var inputPos = input.getBoundingClientRect();\n    var win = window;\n\n    adjustCalY(dp, inputPos, win);\n    adjustCalX(dp, inputPos, win);\n\n    dp.el.style.visibility = '';\n  }\n\n  function adjustCalX(dp, inputPos, win) {\n    var cal = dp.el;\n    var scrollLeft = win.pageXOffset;\n    var inputLeft = inputPos.left + scrollLeft;\n    var maxRight = win.innerWidth + scrollLeft;\n    var offsetWidth = cal.offsetWidth;\n    var calRight = inputLeft + offsetWidth;\n    var shiftedLeft = maxRight - offsetWidth;\n    var left = calRight > maxRight && shiftedLeft > 0 ? shiftedLeft : inputLeft;\n\n    cal.style.left = left + 'px';\n  }\n\n  function adjustCalY(dp, inputPos, win) {\n    var cal = dp.el;\n    var scrollTop = win.pageYOffset;\n    var inputTop = scrollTop + inputPos.top;\n    var calHeight = cal.offsetHeight;\n    var belowTop = inputTop + inputPos.height + 8;\n    var aboveTop = inputTop - calHeight - 8;\n    var isAbove = (aboveTop > 0 && belowTop + calHeight > scrollTop + win.innerHeight);\n    var top = isAbove ? aboveTop : belowTop;\n\n    if (cal.classList) {\n      cal.classList.toggle('dp-is-above', isAbove);\n      cal.classList.toggle('dp-is-below', !isAbove);\n    }\n    cal.style.top = top + 'px';\n  }\n\n  /**\n   * @file Defines the permanent date picker behavior.\n   */\n\n  function PermanentMode(root, emit, opts) {\n    var dp = BaseMode(root, emit, opts);\n\n    dp.close = noop;\n    dp.destroy = noop;\n    dp.updateInput = noop;\n    dp.shouldFocusOnRender = opts.shouldFocusOnRender;\n\n    dp.computeSelectedDate = function () {\n      return opts.hilightedDate;\n    };\n\n    dp.attachToDom = function () {\n      root.appendChild(dp.el);\n    };\n\n    dp.open();\n\n    return dp;\n  }\n\n  /**\n   * @file Defines the various date picker modes (modal, dropdown, permanent)\n   */\n\n  function Mode(input, emit, opts) {\n    input = input && input.tagName ? input : document.querySelector(input);\n\n    if (opts.mode === 'dp-modal') {\n      return ModalMode(input, emit, opts);\n    }\n\n    if (opts.mode === 'dp-below') {\n      return DropdownMode(input, emit, opts);\n    }\n\n    if (opts.mode === 'dp-permanent') {\n      return PermanentMode(input, emit, opts);\n    }\n  }\n\n  /**\n   * @file Defines simple event emitter behavior.\n   */\n\n  /**\n   * Emitter constructs a new emitter object which has on/off methods.\n   *\n   * @returns {EventEmitter}\n   */\n  function Emitter() {\n    var handlers = {};\n\n    function onOne(name, handler) {\n      (handlers[name] = (handlers[name] || [])).push(handler);\n    }\n\n    function onMany(fns) {\n      for (var name in fns) {\n        onOne(name, fns[name]);\n      }\n    }\n\n    return {\n      on: function (name, handler) {\n        if (handler) {\n          onOne(name, handler);\n        } else {\n          onMany(name);\n        }\n\n        return this;\n      },\n\n      emit: function (name, arg) {\n        (handlers[name] || []).forEach(function (handler) {\n          handler(name, arg);\n        });\n      },\n\n      off: function (name, handler) {\n        if (!name) {\n          handlers = {};\n        } else if (!handler) {\n          handlers[name] = [];\n        } else {\n          handlers[name] = (handlers[name] || []).filter(function (h) {\n            return h !== handler;\n          });\n        }\n\n        return this;\n      }\n    };\n  }\n\n  /**\n   * @file The root date picker file, defines public exports for the library.\n   */\n\n  /**\n  * The date picker language configuration\n  * @typedef {Object} LangOptions\n  * @property {Array.<string>} [days] - Days of the week\n  * @property {Array.<string>} [months] - Months of the year\n  * @property {string} today - The label for the 'today' button\n  * @property {string} close - The label for the 'close' button\n  * @property {string} clear - The label for the 'clear' button\n  */\n\n  /**\n  * The configuration options for a date picker.\n  *\n  * @typedef {Object} DatePickerOptions\n  * @property {LangOptions} [lang] - Configures the label text, defaults to English\n  * @property {('dp-modal'|'dp-below'|'dp-permanent')} [mode] - The date picker mode, defaults to 'dp-modal'\n  * @property {(string|Date)} [hilightedDate] - The date to hilight if no date is selected\n  * @property {function(string|Date):Date} [parse] - Parses a date, the complement of the \"format\" function\n  * @property {function(Date):string} [format] - Formats a date for displaying to user\n  * @property {function(Date):string} [dateClass] - Associates a custom CSS class with a date\n  * @property {function(Date):boolean} [inRange] - Indicates whether or not a date is selectable\n  * @property {(string|Date)} [min] - The minimum selectable date (inclusive, default 100 years ago)\n  * @property {(string|Date)} [max] - The maximum selectable date (inclusive, default 100 years from now)\n  */\n\n  /**\n  * The state values for the date picker\n  *\n  * @typedef {Object} DatePickerState\n  * @property {string} view - The current view 'day' | 'month' | 'year'\n  * @property {Date} selectedDate - The date which has been selected by the user\n  * @property {Date} hilightedDate - The date which is currently hilighted / active\n  */\n\n  /**\n  * An instance of TinyDatePicker\n  *\n  * @typedef {Object} DatePicker\n  * @property {DatePickerState} state - The values currently displayed.\n  * @property {function} on - Adds an event handler\n  * @property {function} off - Removes an event handler\n  * @property {function} setState - Changes the current state of the date picker\n  * @property {function} open - Opens the date picker\n  * @property {function} close - Closes the date picker\n  * @property {function} destroy - Destroys the date picker (removing all handlers from the input, too)\n  */\n\n  /**\n   * TinyDatePicker constructs a new date picker for the specified input\n   *\n   * @param {HTMLElement | string} input The input or CSS selector associated with the datepicker\n   * @param {DatePickerOptions} opts The options for initializing the date picker\n   * @returns {DatePicker}\n   */\n  function TinyDatePicker(input, opts) {\n    var emitter = Emitter();\n    var options = DatePickerOptions(opts);\n    var mode = Mode(input, emit, options);\n    var me = {\n      get state() {\n        return mode.state;\n      },\n      on: emitter.on,\n      off: emitter.off,\n      setState: mode.setState,\n      open: mode.open,\n      close: mode.close,\n      destroy: mode.destroy,\n    };\n\n    function emit(evt) {\n      emitter.emit(evt, me);\n    }\n\n    return me;\n  }\n\n  // A date range picker built on top of TinyDatePicker;\n\n  var TinyDatePicker$1 = TinyDatePicker;\n\n  /**\n  * The state values for the date range picker\n  *\n  * @typedef {Object} DateRangeState\n  * @property {Date} start - The start date (can be null)\n  * @property {Date} end - The end date (can be null)\n  */\n\n  /**\n  * An instance of TinyDatePicker\n  *\n  * @typedef {Object} DateRangePickerInst\n  * @property {DateRangeState} state - The start / end dates\n  * @property {function} on - Adds an event handler\n  * @property {function} off - Removes an event handler\n  * @property {function} setState - Changes the current state of the date picker\n  */\n\n  /**\n   * TinyDatePicker constructs a new date picker for the specified input\n   *\n   * @param {HTMLElement} input The input associated with the datepicker\n   * @returns {DateRangePickerInst}\n   */\n  function DateRangePicker(container, opts) {\n    opts = opts || {};\n    var emitter = Emitter();\n    var root = renderInto(container);\n    var hoverDate;\n    var state = {\n      start: undefined,\n      end: undefined,\n    };\n    var start = TinyDatePicker(root.querySelector('.dr-cal-start'), cp({}, opts.startOpts, {\n      mode: 'dp-permanent',\n      dateClass: dateClass,\n    }));\n    var end = TinyDatePicker(root.querySelector('.dr-cal-end'), cp({}, opts.endOpts, {\n      mode: 'dp-permanent',\n      hilightedDate: shiftMonth(start.state.hilightedDate, 1),\n      dateClass: dateClass,\n    }));\n    var handlers = {\n      'statechange': onStateChange,\n      'select': dateSelected,\n    };\n    var me = {\n      state: state,\n      setState: setState,\n      on: emitter.on,\n      off: emitter.off,\n    };\n\n    start.on(handlers);\n    end.on(handlers);\n\n    function onStateChange(_, dp) {\n      var d1 = start.state.hilightedDate;\n      var d2 = end.state.hilightedDate;\n      var diff = diffMonths(d1, d2);\n\n      if (diff === 1) {\n        return;\n      }\n\n      if (dp === start) {\n        end.setState({\n          hilightedDate: shiftMonth(dp.state.hilightedDate, 1),\n        });\n      } else {\n        start.setState({\n          hilightedDate: shiftMonth(dp.state.hilightedDate, -1),\n        });\n      }\n    }\n\n    function dateSelected(_, dp) {\n      var dt = dp.state.selectedDate;\n\n      if (!state.start || state.end) {\n        setState({\n          start: dt,\n          end: undefined,\n        });\n      } else {\n        setState({\n          start: dt > state.start ? state.start : dt,\n          end: dt > state.start ? dt : state.start,\n        });\n      }\n    }\n    function setState(newState) {\n      for (var key in newState) {\n        state[key] = newState[key];\n      }\n\n      emitter.emit('statechange', me);\n      rerender();\n    }\n\n    function rerender() {\n      start.setState({});\n      end.setState({});\n    }\n\n    // Hack to avoid a situation where iOS requires double-clicking to select\n    if (!/iPhone|iPad|iPod/i.test(navigator.userAgent)) {\n      root.addEventListener('mouseover', function mouseOverDate(e) {\n        if (e.target.classList.contains('dp-day')) {\n          var dt = new Date(parseInt(e.target.dataset.date));\n          var changed = !datesEq(dt, hoverDate);\n    \n          if (changed) {\n            hoverDate = dt;\n            rerender();\n          }\n        }\n      });\n    }\n\n    function dateClass(dt) {\n      var rangeClass = (state.end || hoverDate) &&\n                       state.start &&\n                       inRange(dt, state.end || hoverDate, state.start);\n      var selectedClass = datesEq(dt, state.start) || datesEq(dt, state.end);\n\n      return (rangeClass ? 'dr-in-range ' : '') +\n             (selectedClass ? 'dr-selected ' : '');\n    }\n\n    return me;\n  }\n\n  function renderInto(container) {\n    if (typeof container === 'string') {\n      container = document.querySelector(container);\n    }\n\n    container.innerHTML = '<div class=\"dr-cals\">' +\n      '<div class=\"dr-cal-start\"></div>' +\n      '<div class=\"dr-cal-end\"></div>' +\n      '</div>';\n\n    return container.querySelector('.dr-cals');\n  }\n\n  function toMonths(dt) {\n    return (dt.getYear() * 12) + dt.getMonth();\n  }\n\n  function diffMonths(d1, d2) {\n    return toMonths(d2) - toMonths(d1);\n  }\n\n  function inRange(dt, start, end) {\n    return (dt < end && dt >= start) || (dt <= start && dt > end);\n  }\n\n  exports.TinyDatePicker = TinyDatePicker$1;\n  exports.DateRangePicker = DateRangePicker;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","export default class Modal {\n\tconstructor() {\n\t\tlet self = this;\n\n\t\tthis.closeModalBtn = document.querySelector('[data-hook=close-modal]');\n\t\tthis.openModalBtn = document.querySelector(\n\t\t\t'[data-hook=form-field-check-in-out]'\n\t\t);\n\t\tthis.modal = document.getElementsByClassName('modal-wrapper')[0];\n\n\t\tthis.close = this.close.bind(this);\n\t\tthis.open = this.open.bind(this);\n\n\t\tthis.closeModalBtn\n\t\t\t? this.closeModalBtn.addEventListener('click', this.close)\n\t\t\t: null;\n\n\t\tthis.openModalBtn\n\t\t\t? this.openModalBtn.addEventListener('click', this.open)\n\t\t\t: null;\n\n\t\twindow.addEventListener('click', e => {\n\t\t\tif (e.target == self.modal) {\n\t\t\t\tself.close();\n\t\t\t}\n\t\t});\n\t}\n\n\topen() {\n\t\tthis.modal.style.display = 'block';\n\t}\n\tclose() {\n\t\tthis.modal.style.display = 'none';\n\t}\n}\n","import store from './stateManager/store';\nimport { DateRangePicker } from 'tiny-date-picker/dist/date-range-picker';\nimport Modal from './Modal';\n\nlet datePicker,\n\tmodal = new Modal(),\n\treservationForm = document.querySelector('[data-hook=reservation-form]'),\n\tsearchField = reservationForm.querySelector('[ data-hook=form-field-search]'),\n\toccupancyField = reservationForm.querySelector('[data-hook=form-field-occupancy]'),\n\toccupancyDropDown = occupancyField.querySelector('.form-field__dropdown--occupancy'),\n\tdestinitionList = reservationForm.querySelector('[ data-hook*=destinition-list]');\n\n/*******************************/\n/* Functions That Changes DOM */\n/*******************************/\n\nfunction updateDestinationDOM() {\n\tsearchField.value = store.getState().form.destinition;\n}\n\nfunction showDestinationListDOM() {\n\tif (store.getState().ui.visibleDropdown === 'destination-list') {\n\t\tdestinitionList.classList.add('visibile');\n\t}\n}\n\nfunction hideDestinationListDOM() {\n\tif (store.getState().ui.visibleDropdown !== 'destination-list') {\n\t\tdestinitionList.classList.remove('visibile');\n\t}\n}\n\nfunction showDatePickerDOM() {\n\tif (store.getState().ui.visibleDropdown === 'date-picker-modal') {\n\t\tmodal.open();\n\t\tdatePicker = DateRangePicker(document.querySelector('.modal-body'));\n\t}\n}\n\nfunction updateOccopancyDOM() {\n\tlet state = store.getState().form.occupancy;\n\toccupancyDropDown.innerHTML = `\n\t\t<button data-hook=\"occupancy-add-room\" class=\"occupancy__add-room\">add room</button>\n\t`;\n\n\tstate.forEach((room, idx) => {\n\t\toccupancyDropDown.innerHTML += `\n\t\t\t<div class=\"occupancy__room\">\n\t\t\t\t<span class=\"occupancy__room__label\">Room ${idx + 1}</span>\n\t\t\t\t<select name=\"occupancy__room-${idx}-adults\">\n\t\t\t\t\t<option selected=\"selected\" value=\"${room.adults}\">${room.adults}</option>\n\t\t\t\t\t<option value=\"1\">1</option>\n\t\t\t\t\t<option value=\"2\">2</option>\n\t\t\t\t\t<option value=\"3\">3</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t`;\n\t});\n}\n\nfunction showOccupancyDropDownDOM() {\n\tif (store.getState().ui.visibleDropdown === 'occupancy-dropDown') {\n\t\toccupancyDropDown.classList.add('visibile');\n\t}\n}\n\nfunction hideOccupancyDropDownDOM() {\n\tif (store.getState().ui.visibleDropdown !== 'occupancy-dropDown') {\n\t\toccupancyDropDown.classList.remove('visibile');\n\t}\n}\n\n/* ************************** */\n/* Subscribe To Store Changes */\n/* ************************** */\nstore.subscribe(updateDestinationDOM);\nstore.subscribe(updateOccopancyDOM);\nstore.subscribe(showDestinationListDOM);\nstore.subscribe(hideDestinationListDOM);\nstore.subscribe(showDatePickerDOM);\nstore.subscribe(showOccupancyDropDownDOM);\nstore.subscribe(hideOccupancyDropDownDOM);\n","/*********************************************************\n * NOTE :\n * only change dom using predefined functions\n * that are invoked on state changes\n *********************************************************/\n\nimport './stateManager/stateEvents';\nimport './domManager';\n","// extracted by mini-css-extract-plugin","export const actionTypes = {\n\tUPDATE_DESTINATION: 'UPDATE_DESTINATION',\n\tUPDATE_CHECK_IN_OUT: 'UPDATE_CHECK_IN_OUT',\n\tUPDATE_OCCUPANCY: 'UPDATE_OCCUPANCY',\n\n\tUPDATE_VISIBLE_DROPDOWN: 'UPDATE_VISIBLE_DROPDOWN'\n};\n\n/* FORM ACTIONS */\n/* ************ */\n\nexport const updateDestination = value => {\n\treturn {\n\t\ttype: actionTypes.UPDATE_DESTINATION,\n\t\tvalue\n\t};\n};\n\nexport const updateCheckInOut = value => {\n\treturn {\n\t\ttype: actionTypes.UPDATE_CHECK_IN_OUT,\n\t\tvalue\n\t};\n};\n\nexport const updateOccopancy = value => {\n\treturn {\n\t\ttype: actionTypes.UPDATE_OCCUPANCY,\n\t\tvalue\n\t};\n};\n\n/* UI ACTIONS */\n/* ********** */\n\nexport const showDestinitionList = () => {\n\treturn {\n\t\ttype: actionTypes.UPDATE_VISIBLE_DROPDOWN,\n\t\tvalue: 'destination-list'\n\t};\n};\nexport const hideDropDown = () => {\n\treturn {\n\t\ttype: actionTypes.UPDATE_VISIBLE_DROPDOWN,\n\t\tvalue: ''\n\t};\n};\nexport const showDatePickerModal = () => {\n\treturn {\n\t\ttype: actionTypes.UPDATE_VISIBLE_DROPDOWN,\n\t\tvalue: 'date-picker-modal'\n\t};\n};\nexport const showOccupancyDropDown = () => {\n\treturn {\n\t\ttype: actionTypes.UPDATE_VISIBLE_DROPDOWN,\n\t\tvalue: 'occupancy-dropDown'\n\t};\n};\n","import { actionTypes } from './actions';\n\nlet formInitialState = {\n\tdestinition: '',\n\tcheckInOut: {\n\t\tstart: '1',\n\t\tend: '2'\n\t},\n\toccupancy: [\n\t\t{\n\t\t\tadults: 1,\n\t\t\tchildren: 0\n\t\t}\n\t]\n};\n\nfunction formReducer(state = formInitialState, action) {\n\tswitch (action.type) {\n\t\tcase actionTypes.UPDATE_DESTINATION:\n\t\t\treturn { ...state, destinition: action.value };\n\n\t\tcase actionTypes.UPDATE_CHECK_IN_OUT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcheckInOut: { ...state.checkInOut, ...action.value }\n\t\t\t};\n\n\t\tcase actionTypes.UPDATE_OCCUPANCY:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\toccupancy: [...state.occupancy, action.value]\n\t\t\t};\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nlet uiInitialState = {\n\tvisibleDropdown: ''\n};\n\nfunction uiReducer(state = uiInitialState, action) {\n\tswitch (action.type) {\n\t\tcase actionTypes.UPDATE_VISIBLE_DROPDOWN:\n\t\t\treturn { ...state, visibleDropdown: action.value };\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction rootReducer(state = {}, action) {\n\treturn {\n\t\tform: formReducer(state.form, action),\n\t\tui: uiReducer(state.ui, action)\n\t};\n}\n\nexport default rootReducer;\n","import store from './store';\nimport * as actions from './actions';\n\nlet reservationForm = document.querySelector('[data-hook=reservation-form]'),\n\tcheckInOutField = reservationForm.querySelector('[data-hook=form-field-check-in-out]'),\n\toccupancyField = reservationForm.querySelector('[data-hook=form-field-occupancy]'),\n\toccupancyDropDown = occupancyField.querySelector('.form-field__dropdown--occupancy'),\n\tsearchField = reservationForm.querySelector('[ data-hook=form-field-search]'),\n\tdestinitionList = reservationForm.querySelector('[ data-hook*=destinition-list]');\n\n/*******************************/\n/* Functions That Changes State */\n/*******************************/\n\n/* field: destinition */\n// update Destination from event value\nsearchField.addEventListener('input', e => {\n\tstore.dispatch(actions.updateDestination(e.target.value));\n});\n\n/* field: destinition */\n// update Destination from li\ndestinitionList.addEventListener('click', e => {\n\tstore.dispatch(actions.updateDestination(e.target.innerHTML));\n});\n\n/* field: destinition */\n// show destination list\nsearchField.addEventListener('focus', e => {\n\tstore.dispatch(actions.showDestinitionList());\n});\n\n/* field: destinition */\n// hide destination list\ndocument.addEventListener('click', e => {\n\tif (e.target !== searchField && store.getState().ui.visibleDropdown === 'destination-list') {\n\t\tstore.dispatch(actions.hideDropDown());\n\t}\n});\n\n/* field: checkInOut */\n// show DatePicker Modal\ncheckInOutField.addEventListener('click', e => {\n\tstore.dispatch(actions.showDatePickerModal());\n});\n\n/* field: occupancy */\n/* toggle occupancy-dropDown */\noccupancyField.addEventListener('click', e => {\n\te.stopPropagation();\n\n\tif (store.getState().ui.visibleDropdown === 'occupancy-dropDown') {\n\t\tstore.dispatch(actions.hideDropDown());\n\t\treturn;\n\t}\n\n\tif (\n\t\te.target === e.currentTarget ||\n\t\te.target === occupancyField.querySelector('.form-field__icon') ||\n\t\te.target === occupancyField.querySelector('.form-field__value-box')\n\t) {\n\t\tstore.dispatch(actions.showOccupancyDropDown());\n\t}\n});\n\n/* field: occupancy */\n/* hide occupancy-dropDown */\ndocument.addEventListener('click', e => {\n\tif (\n\t\tstore.getState().ui.visibleDropdown === 'occupancy-dropDown' &&\n\t\te.target !== occupancyDropDown\n\t) {\n\t\tstore.dispatch(actions.hideDropDown());\n\t}\n});\n","import rootReducer from './rootReducer';\n\nconst creatStore = reducer => {\n\tvar listeners = [];\n\tvar state = reducer(undefined, { type: '' });\n\n\tconst getState = () => {\n\t\treturn state;\n\t};\n\n\tconst subscribe = listener => {\n\t\tlisteners.push(listener);\n\t\treturn () => listeners.filter(currentListener => currentListener !== listener);\n\t};\n\n\tconst dispatch = action => {\n\t\tconsole.log('action fired: ', action.type, action);\n\n\t\tstate = reducer(state, action);\n\n\t\tlisteners.map(cb => cb());\n\t};\n\n\treturn {\n\t\tgetState,\n\t\tsubscribe,\n\t\tdispatch\n\t};\n};\n\nconst store = creatStore(rootReducer);\n\n// FOR DEBUGGING\nwindow.store = store;\nstore.subscribe(() => console.log(store.getState()));\n\nexport default store;\n"],"sourceRoot":""}